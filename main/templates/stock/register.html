{% extends "master.html" %}
{% load static %}


{% block contenido %} 



<div class="container">

    <h1>AÃ±adir suministro</h1>
    
    <form >
        <div class="row">
            <div class="col">
                <div class="form-group col-lg-6 offset-lg-1">
                    <label for="nombre-sumi">Nombre</label>
                    <input type="email" class="form-control border border-dark" id="nombre-sumi"  placeholder="Introduce el nombre el suministro">
                </div>
                <div class="form-group col-lg-2 offset-lg-1 mt-3">
                    <label for="cantidad-sumi">Cantidad</label>
                    <input type="number" class="form-control  border border-dark" >
                    
                </div>

            </div>
            <div class="col">
                <div>
                    <div class="mb-4 d-flex justify-content-center">

                        <img id="vista" {% if es.producto_4.imagen %}src={{ es.producto_4.imagen.url }}{%else %}src={% static "img\no_image.png" %}{% endif %}
                        class="img-fluid" style="width: 300px;" />
                    </div>
                    <div class="d-flex justify-content-center">
                        <div class="btn btn-dark">
                            <label class="form-label text-white m-1" for="file-up">Selecciona una imagen</label>
                            <input type="file" class="form-control d-none" id="file-up" name="image" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    <div class="col-lg-10 offset-lg-1 mt-2">

        <button type="submit" class="btn btn-dark">Registrar suministro</button>

    </div>
    </form>
</div>




<script>
    const inputFoto = document.querySelector('#file-up');
    const vistaPrevia = document.querySelector('#vista');

    inputFoto.addEventListener('change', () => {
    const archivo = inputFoto.files[0];
    if (archivo) {
        const lector = new FileReader();
        lector.addEventListener('load', () => {
        vistaPrevia.src = lector.result;
        });
        lector.readAsDataURL(archivo);
    } else {
        vistaPrevia.src = '#';
    }
    });
  </script>


   
{% endblock %}

